/*
 *  Anex86: PC-x86 emulator 
 *    Copyright (C) 1997-2005 A.N. All rights reserved.
 *      anex86.exe: v2.78
 */

　このファイルではエミュレータについて説明します。

[概要]

　　Anex86 は PC-286/386/486/586 シリーズのエミュレータです。
　ROM BIOS の機能の一部と、起動のための最小限の機能を持っています。
　したがって、実機の ROM を吸い上げる等の作業は必要ありません。

　　主なスペックは以下のとおりです。CPU は Pentium のほとんどの命令を
　サポートします。モニタは高解像度カラー。640x400x16色まで可能です。
　FDD と HDD は BIOS のみサポートします。プリンタと RS232C は使えません。
　これらの機能のいくつかはオプションにより拡張可能です。

　　このエミュレータ上でソフトが動くかどうかは試してみるしかないのですが、
　MS-DOS フォーマットのフロッピーディスクで供給されて、プロテクトがなく、
　BASIC-ROM を使わないソフトなら動く可能性が高いと思います。

　　このエミュレータ上のソフトは Windows のフロッピーディスクドライブや
　ファイルを直接操作できません。エミュレータ上のフロッピーディスクや
　ハードディスクは特別なファイル（ 拡張子.fdi .hdi ）に格納されます。
　起動するためには、フロッピーディスクから .fdi ファイルを作成する必要が
　あります。ツールはエミュレータに組み込まれているのでご安心ください。


[表記について]

　[Setting]    Anex86 - Setting ウインドウです。
　[Config]     Anex86 - Config ウインドウです。
　[Emulator]   Anex86 - Emulator ウインドウです。
　[Config]-[System] Ext RAM
　　　　 　　　 Anex86 - Config ウインドウの
　　　　 　　　 System タブの Ext RAM を意味します。


[パソコンの設定]

　　Windows Me/XP では「システムの復元」機能が追加されました。
　Windows は .fdi/.hdi ファイルも復元対象にすることがあります。
　（復元対象のファイルは自動的にバックアップされます。）
　必要に応じて設定を変更するなどの対策を行ってください。

　　この設定の初期値はパソコンの機種によっても異なるようです。
　この設定がどうなっているか確認しておくことを強くお勧めします。
　「システムの復元」の詳細は Windows の HELP を参照してください。


[設定について]

　　Anex86 は初期状態で「とりあえず無難に動く設定」になっています。
　最初は設定を変更せずに試してみることをお勧めします。


[起動方法]

　(1). anex86.exe をダブルクリックします。
　　　 [Setting] ウインドウが開きます。
　(2). 必要に応じて FDD1,FDD2,HDD1,HDD2 の設定を変更します。
　(3). [Start] ボタンを押します。　　　　


[終了方法]

　(1). [Setting] ウインドウ右上の[X]を押します。


[アンインストール]

　(1). プログラム（anex86.exe）を削除してください。

　(2). レジストリも削除する場合は以下のキーを削除してください。
　　　　HKEY_CURRENT_USER\Software\A.N.\anex86

　(3). .fdi/.hdi ファイルは普通のファイルです。
　　　 Windows から削除してください。


[起動オプション]

　　-c　設定名を指定します。
　　　　例： anex86 -cxxx
　　　　設定は HKEY_CURRENT_USER\Software\A.N.\anex86\config\xxx に保存されます。
　　　　設定名は８文字以下、英数字のみです。
　　　　オプションをつけないと anex86.exe -cdefault と同じです。


[動作環境]

　　日本語 Windows95/98/Me/NT/2000/XP
　　 Pentium MMX 150MHz ＋ 256KB PB 2nd cache + 32MB main memory
　　以上のマシンを推奨します。


[性能について]

　　動作環境と使用状況により大きく変化します。
　何ともいえないので試してみてください。


[フロッピーディスクとハードディスク]

　　このエミュレータ上のソフトは Windows のフロッピーディスクドライブ
　やファイルを直接操作できません。エミュレータ上のフロッピーディスクや
　ハードディスクは特別なファイル（ 拡張子.fdi .hdi ）に格納されます。

　　フロッピーディスクを使用するためには、フロッピーディスクから .fdi 
　ファイルを作成する必要があります。サポートするフォーマットは 640KB/
　720KB/1200KB/1440KB です。EPSON の 1.2MB equiv はサポートしません。
　作成する場合は [Setting] の FDD1 か FDD2 右の [New] を押します。
　　・フロッピーディスクは必ず書込み禁止にしてから挿入してください。
　　　Windows がフロッピーディスクを破壊する場合があります。
　　・MS-DOS 以外のフロッピーディスクは作成に失敗することがあります。
　　　汎用ディスクイメージツールでも使えるものがあるらしいので探して
　　　みてください。

　　エミュレータのフロッピーディスクをライトプロテクト（書き込み禁止）
　にしたい場合は、.fdi ファイルを書き込み禁止にしてください。

　　ハードディスクを使用するためには、.hdiファイルを作成する必要があり
　ます。作成する場合は [Setting] の HDD1 か HDD2 右の [New] を押します。
　新しく作成したハードディスクは未初期化です。エミュレータ上の MS-DOS
　から FORMATHD 等を使って初期化する必要があります。


[キーボードについて]

　　[Emulator] が選択されているときにキーを押すとエミュレータのキー入
　力として扱われます。

　　特殊キーの対応は以下のとおりです。
　　　[カナ] -> [カタカナ]
　　　[NFER] -> [無変換] or [F11]
　　　[XFER] -> [変換] or [F12]

　　キーボードは Windows のキーボード配列が複数あるのでデフォルトでは
　 Windows の配列に従うようになっています。キーボードはスキャンコード
　を扱うので 101/106/109等 PC/AT の標準的なキーボードでないと問題を起
　こす場合があります。
　　キー入力に問題がある場合は [Config]-[Keyboard] の設定を変更してみ
　てください。キー配列も変更可能です。


[マウスについて]

　　[Emulator] が選択されているときにマウスを操作するとエミュレータの
　マウスが操作されたものとして扱われます。

　　マウスをサポートするソフトを動かすとマウスカーソルは２つ表示されます。
　ひとつは Windows のマウスカール、ひとつはエミュレータ上のマウスドライ
　バがエミュレータ上で表示しているマウスカーソルです。エミュレータは
　 Windows のマウスカーソルの移動量をエミュレータに伝えるので通常は同じ
　向きに動きますが位置はばらばらです。

　　DirectX が使用できる場合はマウスキャプチャーモードが使用できます。
　このモードではエミュレータが直接マウスを使用します。Windows から
　マウスの全ての制御を奪い取るので、Windows のマウスカーソルは表示され
　ません。モードは [Alt]+[Back] でいつでも切り替え可能です。


[表示について]

　　画面で問題がある場合はデスクトップの解像度とカラーモードとフォント
　の大きさを変更してみてください。回避できる場合があります。
　また [Config]-[Window] の設定を変更してみてください。

　　文字が表示されない場合は [Config]-[Font] にフォントが表示されている
　か確認してください。問題がある場合はフォントを変更してみてください。

　　DirectX が使用できる場合はフルスクリーンが使用可能です。
　[Alt]+[Return] で切り替えます。メニューを呼び出す場合は [Alt]+[Space]
　を押してください。[Setting] が現れます。


[フォントについて]

　　このエミュレータは Windows のフォントを使用します。このため、罫線な
　ど一部のキャラクタは正常に表示されませんが正常です。
　　どうしてもという場合は白黒 .bmp をペイントで作成してお使いください。


[サウンドについて]

　　サウンドは音が途切れないように、時間にして１秒強のバッファを持って
　います。音は画面より１秒程度おくれます。[Config]-[Wave] の設定により
　ある程度改善します。
　　サウンドの BASIC-ROM はサポートしていません。古いソフトで音が鳴らな
　いことがあるかもしれません。


[うごかないときは]

　・プロテクト
　　　　特殊なフォーマットを含むフロッピーディスクは不可。
　　　　プロテクトのかかったソフトは不可。
　・タイミング
　　　　実機とタイミングが異なるので、ソフトによっては問題を生じます。
　・互換性
　　　　エミュレータがサポートしない機能を使用していると不可。
　・バグ
　　　　ごめんなさい。


[ウインドウについて]

　エミュレータが表示するもろもろのウインドウの使い方をざっと紹介します。

・[Anex86 - Setting]ウインドウ
　　起動すると最初に表示されるウインドウです。
　　エミュレータが終了するまで閉じることはありません。

　　　　FDD1、FDD2、HDD1、HDD2 それぞれの行がドライブに対応します。
　　　　以下、各行のボタン等の説明です。 
　　        [        ]　　　ドライブに挿入する .fdi/.hdi ファイルの名前
　　　　　　　　　　　　　　を表示／指定します。エミュレータの実行中は
　　　　　　　　　　　　　　フロッピーディスクのみ変更可能です。
　　　　　　[...] 　　　　　ウインドウが開いてファイルを選択することが
　　　　　　　　　　　　　　できます。
　　　　　　[New]　　　　　 .fdi/.hdi ファイルを新しく作ります。
　　　　　　[Eject] 　　　　フロッピーディスクを取り出します。
　　　　　　[Remove]　　　　ハードディスクを取り除きます。
　　　　その他のボタンの説明です。
　　　　　　[Start] 　　　　エミュレータを開始します。
　　　　　　[About] 　　　　バージョンを表示します。
　　　　　　[Config]　　　　設定／監視のためのウインドウを開きます。

・[Create Floppy Disk Image File]ウインドウ
　　 .fdi ファイルを新しく作るときに現れるウインドウです。
　　ファイルを生成するためには必ず元になるフロッピーディスクが必要です。

			Drive			スキャンするドライブを指定します。
　　　　　　File name 　　　新しく作られるファイルの名前を指定します。
　　　　　　Disk info 　　　内容を吸い上げるフロッピーディスクの
　　　　　　　　　　　　　　フォーマットを指定します。
　　　　　　　　　　　　　　ここでフォーマットを指定すると吸い上げ時に
　　　　　　　　　　　　　　強制的にそのフォーマットが使われます。
　　　　　　　　　　　　　　誤ったフォーマット指定しても作成が正常終了
　　　　　　　　　　　　　　する場合があるので注意して使ってください。
　　　　　　　　　　　　　　通常は不要です。
　　　　　　[Scan]　　　　　吸い上げを開始します。
　　　　　　[Close] 　　　　このウインドウを閉じます。
　　　　　　[Detect]　　　　フロッピーディスクのフォーマットを検出しま
　　　　　　　　　　　　　　す。結果は Disk info の下に反映されるので
　　　　　　　　　　　　　　必ず確認してください。

・[Create Hard Disk Image File]ウインドウ
　　 .hdi ファイルを新しく作るときに現れるウインドウです。

　　　　　　File name 　　　新しく作られるファイルの名前を指定します。
　　　　　　Disk info 　　　作成するハードディスクの容量を選択します。
　　　　　　　　　　　　　　メニューの中から選択してください。
　　　　　　[Create]　　　　作成を開始します。
　　　　　　[Close] 　　　　このウインドウを閉じます。

・[Anex86 - Emulator]ウインドウ
　　パソコンの画面です。

・[Anex86 - Config]ウインドウ
　　設定／監視を行います。一部タブのみ解説します。
　　[Reset]を押すとデフォルトにもとにもどります。
　　問題がある場合はまず全ての設定をデフォルトにしてみてください。

　　・[Module]  　各ユニットのバージョンです。
　　　　　　　　　.e86 ファイルが組み込まれている場合は表示されます。
　　・[System]
　　　　　Ext-RAM
　　　　　　　　　拡張メモリを使用可能にします。
　　　　　　　　　拡張メモリの容量を指定します。
　　　　　Speed min/max
　　　　　　　　　CPU の実行速度を強制的に指定します。
　　　    Priority
　　　　　　　　　エミュレータの優先度です。
　　　　　　　　　変更するとWindows が応答しなくなるかもしれません。
　　・[Keyboard]  キーボードの設定を行います。
　　　　　　　　　ここの設定はトラブル対策用です。
　　　　　　　　　問題がなければデフォルトで使用してください。
　　・[Mouse]     マウスの設定を行います。
　　　　　　　　　ここの設定はトラブル対策用です。
　　　　　　　　　問題がなければデフォルトで使用してください。
　　・[Joystick]  ジョイスティックの設定を行います。
　　　　　　　　　ここの設定はトラブル対策用です。
　　　　　　　　　問題がなければデフォルトで使用してください。
　　・[Window]　　画面の設定を行います。
　　　　　　　　　ここの設定はトラブル対策用です。
　　　　　　　　　問題がなければデフォルトで使用してください。
　　・[Video]
　　　　　Update strategy
　　　　　　　　　画面の更新戦略です。頻度を変更できます。
　　・[Font]　　　font file name にファイルを指定するとビットマップを
　　　　　　　　　フォントとして使用できます。
　　　　　　　　　ここが空なら Windows のフォントを使用します。
　　　　　　　　　[Font] でフォントを指定できます。
　　・[Timing]
　　　　　Video timing
　　　　　　　　　エミュレータ上のソフトをだますための機能です。
　　　　　　　　　ソフトのスピードが上がる場合があります。
　　・[FDD/HDD]
　　　　　　　　　フロッピーディスクのゲームで問題を生じたら
　　　　　　　　　試しに変更してみてください。
　　・[Sound]
　　　　　type　　サウンドカードを指定します。
　　　　　real　　FM 音源の音質を改善します。
　　・[Wave]
　　　　　buffer
　　　　　　　　　音の遅れを改善しますが、音が途切れやすくなります。　

[スペック]
　　ユニット毎のスペックをざっと書いておきます。

・ＣＰＵ
　　80486 or Pentium

・ＦＰＵ
　　あり。

・ＲＡＭ
　　 640KB+14MB。

・ＢＩＯＳ　ＲＯＭ
　　INT 18H/1BH/1CH/1FH　を部分サポート。
　　GLIO　一部機能のみサポート。
　　SOUND-BIOS なし。

・テキスト
　　VRAM 12KB。
　　80/40 x 25/20 文字　８色カラー。
　　文字ごとに　色、反転　が指定可能。（文字の点滅を指定すると反転表示）
　　スムーススクロールは部分サポート。
　　カーソル形状サポート。

・フォント
　　16 x 16 ドット。
　　Windows のフォントまたはビットマップファイルを使用。

・グラフィック
　　VRAM 256KB。
　　640x400x2 モード。
　　640x200x4 モード。
　　4096色中 16色モード。
　　GDC/GRCG/EGC サポート。
　　256色はオプション。

・ディスプレイ
　　高解像カラー。

・フロッピーディスク
　　640/1MB インターフェース。
　　3.5" 3mode ２基。

・ハードディスク
　　IDE １基 or ２基。（[Setting] で指定。）

・プリンタ
　　オプション。

・ＲＳ２３２Ｃ
　　オプション。

・時計
　　読み取りのみ。時間は Windows と同じ。

・キーボード
　　キー配列は Windows に従うモードがある。

・マウス
　　バスマウス。
　　割り込みは INT6 固定。

・サウンド
　　アドレス 0188H,018AH,018CH,018EH。
　　割り込み INT5 固定。
　　-26/-86 音源。（切り替え、-86 音源はリズムなし、86PCM あり。）
　　BEEP 音声・SSG PCM も使用可能です。

・ＣＤ−ＲＯＭ
　　オプション。MS-DOS のみ。

・その他
　　マシンは８ＭＨｚ系、タイマーの入力は 1.9968MHz。
　　ディップスイッチは固定。オプションで変更可。
　　メモリスイッチは固定。オプションで変更可。

※オプションはホームページで配布しています。
